######################################################################################################
# QuickDapp v3 Test Environment Configuration
######################################################################################################
#
# This file contains ONLY the overrides specific to the test environment.
# Base configuration is loaded from .env first, then these values override as needed.
#
######################################################################################################

# Test environment
NODE_ENV=test

# Test server settings (different port to avoid conflicts)
PORT=3002
BASE_URL=http://localhost:3002

# No worker in server when running in test mode, we will test worker separately
WORKER_COUNT=0

# Logging levels (quieter for tests)
LOG_LEVEL=warn
WORKER_LOG_LEVEL=warn

# Test database (separate from development database)
DATABASE_URL=postgresql://postgres@localhost:5432/quickdapp_test

# Test-specific encryption key (32 bytes, for testing only)
SESSION_ENCRYPTION_KEY=test_key_32_chars_long_for_testing_only!!

# Web3 configuration for tests
WEB3_ENABLED=true

# Test wallet private key (well-known test key, never use in production)
WEB3_SERVER_WALLET_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# Allowed origins for SIWE authentication in tests
WEB3_ALLOWED_SIWE_ORIGINS=http://localhost:3002,http://127.0.0.1:3002

# Test blockchain network settings (use foundry/anvil for tests)
WEB3_SUPPORTED_CHAINS=anvil
WEB3_ANVIL_RPC=http://127.0.0.1:58545
WEB3_WALLETCONNECT_PROJECT_ID=test_project_id

# Test smart contract addresses
WEB3_FACTORY_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# External Services (Disabled for Tests)
MAILGUN_API_KEY=
MAILGUN_API_ENDPOINT=
MAILGUN_FROM_ADDRESS=
SENTRY_DSN=
SENTRY_WORKER_DSN=
SENTRY_AUTH_TOKEN=
DIGITALOCEAN_ACCESS_TOKEN=


# WebSocket config (lower limits for tests)
SOCKET_MAX_CONNECTIONS_PER_USER=5
SOCKET_MAX_TOTAL_CONNECTIONS=100